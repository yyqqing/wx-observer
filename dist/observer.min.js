/*!
 * WxObserver.js v0.1.2
 * (c) 2014-2019 yyqqing
 * Released under the MIT License.
 */
var t,e;t=this,e=function(){"use strict";function t(t){return null!==t&&"object"==typeof t}Object.freeze({});var e=Object.prototype.toString;function n(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function r(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var i=Object.prototype.hasOwnProperty;function s(t,e){return i.call(t,e)}var o=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function a(t,e,n){}function u(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function h(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var c,f=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]"),p="__proto__"in{},d=function(){return!1};function l(t){return"function"==typeof t&&/native code/.test(t.toString())}function v(t,e,n){console.log("handleError :: ",t,e,n)}c="undefined"!=typeof Set&&l(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var y,_=[],b=!1;function g(){b=!1;var t=_.slice(0);_.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&l(Promise)){var m=Promise.resolve();y=function(){m.then(g)}}else if(isIE||"undefined"==typeof MutationObserver||!l(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())y="undefined"!=typeof setImmediate&&l(setImmediate)?function(){setImmediate(g)}:function(){setTimeout(g,0)};else{var w=1,D=new MutationObserver(g),O=document.createTextNode(String(w));D.observe(O,{characterData:!0}),y=function(){w=(w+1)%2,O.data=String(w)}}var j=0,F=function(){this.id=j++,this.subs=[]};F.prototype.addSub=function(t){this.subs.push(t)},F.prototype.removeSub=function(t){r(this.subs,t)},F.prototype.depend=function(){F.target&&F.target.addDep(this)},F.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},F.target=null;var A=[],I=Array.prototype,S=Object.create(I);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=I[t];h(S,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,s=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),s})});var P=Object.getOwnPropertyNames(S),x=!0,C=function(t){var e;this.value=t,this.dep=new F,this.vmCount=0,h(t,"__ob__",this),Array.isArray(t)?(p?(e=S,t.__proto__=e):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var s=n[r];h(t,s,e[s])}}(t,S,P),this.observeArray(t)):this.walk(t)};function E(n,r){var i,o;if(t(n))return s(n,"__ob__")&&n.__ob__ instanceof C?i=n.__ob__:!x||d()||!Array.isArray(n)&&(o=n,"[object Object]"!==e.call(o))||!Object.isExtensible(n)||n._isVue||(i=new C(n)),r&&i&&i.vmCount++,i}function k(t,e,n,r,i){var s=new F,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,u=o&&o.set;a&&!u||2!==arguments.length||(n=t[e]);var h=!i&&E(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return F.target&&(s.depend(),h&&(h.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!=e&&r!=r||a&&!u||(u?u.call(t,e):n=e,h=!i&&E(e),s.notify())}})}}C.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)k(t,e[n])},C.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)E(t[e])};var z=new c;function M(e){!function e(n,r){var i,s;var o=Array.isArray(n);if(!o&&!t(n)||Object.isFrozen(n))return;if(n.__ob__){var a=n.__ob__.dep.id;if(r.has(a))return;r.add(a)}if(o)for(i=n.length;i--;)e(n[i],r);else for(s=Object.keys(n),i=s.length;i--;)e(n[s[i]],r)}(e,z),z.clear()}var K=[],T=[],V={},W=!1,B=!1,L=0;function N(){var t,e;for(B=!0,K.sort(function(t,e){return t.id-e.id}),L=0;L<K.length;L++)(t=K[L]).before&&t.before(),e=t.id,V[e]=null,t.run();var n=T.slice(),r=K.slice();L=K.length=T.length=0,V={},W=B=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&r._isDestroyed}}(r)}function U(t){var e=t.id;if(null==V[e]){if(V[e]=!0,B){for(var n=K.length-1;n>L&&K[n].id>t.id;)n--;K.splice(n+1,0,t)}else K.push(t);W||(W=!0,function(t,e){var n;if(_.push(function(){if(t)try{t.call(e)}catch(t){v(t,e,"nextTick")}else n&&n(e)}),b||(b=!0,y()),!t&&"undefined"!=typeof Promise)new Promise(function(t){n=t})}(N))}}var R=0,Z=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++R,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new c,this.newDepIds=new c,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!f.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=a)),this.value=this.lazy?void 0:this.get()};Z.prototype.get=function(){var t,e;t=this,A.push(t),F.target=t;var n=this.vm;try{e=this.getter.call(n,n)}catch(t){if(!this.user)throw t;v(t,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&M(e),A.pop(),F.target=A[A.length-1],this.cleanupDeps()}return e},Z.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Z.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Z.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():U(this)},Z.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||t(e)||this.deep){var n=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,n)}catch(t){v(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,n)}}},Z.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Z.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Z.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||r(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var $={enumerable:!0,configurable:!0,get:a,set:a},q={computed:!0};function G(t,e,n){"function"==typeof n?($.get=n,$.set=a):($.get=n.get?n.get:a,$.set=n.set?n.set:a),$.set===a&&($.set=function(){console.log('Computed property "'+e+'" was assigned to but it has no setter.')}),Object.defineProperty(t,e,$)}var H=function(t){var e=this;this._watchers=[],this._dataKeys=[];var n=this;x=!0;var r=n._data=t.data||{};Object.keys(r).forEach(function(t){u(t)||(!function(t,e,n){$.get=function(){return this[e][n]},$.set=function(t){this[e][n]=t},Object.defineProperty(t,n,$)}(n,"_data",t),e._dataKeys.push(t))}),E(r,!0);var i=t.computed,s=n._computedWatchers=Object.create(null);for(var h in i){u(h)||this._dataKeys.push(h);var c=i[h],f="function"==typeof c?c:c.get;s[h]=new Z(n,f||a,a,q),h in n?console.log('The computed property "'+h+'" is already defined in data.'):G(n,h,c)}var p=t.methods;for(var d in p)n[d]=null==p[d]?a:o(p[d],n)};return H.prototype.allData=function(){var t=this,e={};return this._dataKeys.forEach(function(n){e[n]=t[n]}),e},H.prototype.teardown=function(){var t=this;this._watcher&&this._watcher.teardown(),this._watchers.forEach(function(t){t.teardown()}),Object.keys(this._computedWatchers).forEach(function(e){t._computedWatchers[e].teardown()}),this._data={},this._watchers=[],this._computedWatchers={}},{observe:function(t){var e=t.onLoad,n=t.onUnload;return t.onLoad=function(){var t=this;this.model&&(this.model=this._vm=new H(this.model),new Z(this._vm,function(){t.setData(t._vm.allData())},a,{},!0)),e&&e.apply(this,arguments)},t.onUnload=function(){this._vm&&this._vm.teardown(),n&&n.apply(this,arguments)},t},observable:function(t){return new H(t)},set:function(t,e,r){if(Array.isArray(t)&&n(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var i=t.__ob__;return t._isVue||i&&i.vmCount?r:i?(k(i.value,e,r),i.dep.notify(),r):(t[e]=r,r)},del:function(t,e){if(Array.isArray(t)&&n(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||s(t,e)&&(delete t[e],r&&r.dep.notify())}}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Vue=e();